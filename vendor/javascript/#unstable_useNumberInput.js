import e from"@babel/runtime/helpers/esm/extends";import{unstable_useForkRef as n,unstable_useId as t,unstable_useControlled as o,formatMuiErrorMessage as r}from"@mui/utils";import*as u from"react";import{useFormControlContext as l}from"@mui/base/FormControl";import{e as a}from"../_/q-ZiAH4M.js";function simpleClamp(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}function clamp(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER,o=NaN){if(Number.isNaN(o))return simpleClamp(e,n,t);const r=o||1;const u=e%r;const l=Math.sign(u);return Math.abs(u)>r/2?simpleClamp(e+l*(r-Math.abs(u)),n,t):simpleClamp(e-l*Math.abs(u),n,t)}function isNumber(e){return typeof e==="number"&&!Number.isNaN(e)&&Number.isFinite(e)}"use client";const s=["ArrowUp","ArrowDown","PageUp","PageDown"];const i=[...s,"Home","End"];function parseInput(e){return String(e?e.trim():e)}function useNumberInput(c){const{min:p,max:m,step:d,shiftMultiplier:f=10,defaultValue:N,disabled:b=false,error:v=false,onBlur:I,onInputChange:g,onFocus:h,onChange:E,required:C=false,readOnly:w=false,value:M,inputRef:D,inputId:y}=c;const _=l();const{current:F}=u.useRef(M!=null);const k=u.useCallback((e=>{process.env.NODE_ENV!=="production"&&e&&e.nodeName!=="INPUT"&&!e.focus&&console.error(["MUI: You have provided a `slots.input` to the input component","that does not correctly handle the `ref` prop.","Make sure the `ref` prop is called with a HTMLInputElement."].join("\n"))}),[]);const A=u.useRef(null);const P=n(A,D,k);const S=t(y);const[T,x]=u.useState(false);const[R,B]=o({controlled:M,default:N,name:"NumberInput"});const[U,G]=u.useState(R?String(R):void 0);u.useEffect((()=>{if(!_&&b&&T){x(false);I==null||I()}}),[_,b,T,I]);const handleFocus=e=>n=>{var t;(t=e.onFocus)==null||t.call(e,n);if(!n.defaultPrevented){if(_&&_.onFocus){var o;_==null||(o=_.onFocus)==null||o.call(_)}x(true)}};const handleValueChange=()=>(e,n)=>{let t;if(n===void 0){t=n;G("")}else{t=clamp(n,p,m,d);G(String(t))}B(t);isNumber(t)?E==null||E(e,t):E==null||E(e,void 0)};const handleInputChange=e=>n=>{var t,o;if(!F&&n.target===null)throw new Error(process.env.NODE_ENV!=="production"?"MUI: Expected valid input target. Did you use a custom `slots.input` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.":r(17));_==null||(t=_.onChange)==null||t.call(_,n);(o=e.onInputChange)==null||o.call(e,n);const u=parseInput(n.currentTarget.value);if(u===""||u==="-"){G(u);B(void 0)}if(u.match(/^-?\d+?$/)){G(u);B(parseInt(u,10))}};const handleBlur=e=>n=>{var t;const o=parseInput(n.currentTarget.value);(t=e.onBlur)==null||t.call(e,n);o===""||o==="-"?handleValueChange()(n,void 0):handleValueChange()(n,parseInt(o,10));_&&_.onBlur&&_.onBlur();x(false)};const handleClick=e=>n=>{var t;A.current&&n.currentTarget===n.target&&A.current.focus();(t=e.onClick)==null||t.call(e,n)};const handleStep=e=>n=>{let t;if(isNumber(R)){const o=n.shiftKey||n.key==="PageUp"||n.key==="PageDown"?f:1;t={up:R+(d!=null?d:1)*o,down:R-(d!=null?d:1)*o}[e]}else t={up:p!=null?p:0,down:m!=null?m:0}[e];handleValueChange()(n,t)};const handleKeyDown=e=>n=>{var t;(t=e.onKeyDown)==null||t.call(e,n);if(!n.defaultPrevented){i.includes(n.key)&&n.preventDefault();if(s.includes(n.key)){const e={ArrowUp:"up",ArrowDown:"down",PageUp:"up",PageDown:"down"}[n.key];handleStep(e)(n)}n.key==="Home"&&isNumber(m)&&handleValueChange()(n,m);n.key==="End"&&isNumber(p)&&handleValueChange()(n,p)}};const getRootProps=(n={})=>{const t=a(c,["onBlur","onInputChange","onFocus","onChange"]);const o=e({},t,a(n));return e({},n,o,{onClick:handleClick(o)})};const getInputProps=(n={})=>{var t;const o=e({onBlur:I,onFocus:h},a(n,["onInputChange"]));const r=e({},n,o,{onFocus:handleFocus(o),onChange:handleInputChange(e({},o,{onInputChange:g})),onBlur:handleBlur(o),onKeyDown:handleKeyDown(o)});const u=(t=T?U:R)!=null?t:"";return e({},r,{type:"text",id:S,"aria-invalid":v||void 0,defaultValue:void 0,ref:P,value:u,"aria-valuenow":u,"aria-valuetext":String(u),"aria-valuemin":p,"aria-valuemax":m,autoComplete:"off",autoCorrect:"off",spellCheck:"false",required:C,readOnly:w,"aria-disabled":b,disabled:b})};const handleStepperButtonMouseDown=e=>{e.preventDefault();A.current&&A.current.focus()};const V={"aria-controls":S,tabIndex:-1};const O=b||!!isNumber(R)&&R>=(m!=null?m:Number.MAX_SAFE_INTEGER);const getIncrementButtonProps=(n={})=>e({},n,V,{disabled:O,"aria-disabled":O,onMouseDown:handleStepperButtonMouseDown,onClick:handleStep("up")});const q=b||!!isNumber(R)&&R<=(p!=null?p:Number.MIN_SAFE_INTEGER);const getDecrementButtonProps=(n={})=>e({},n,V,{disabled:q,"aria-disabled":q,onMouseDown:handleStepperButtonMouseDown,onClick:handleStep("down")});return{disabled:b,error:v,focused:T,formControlContext:_,getInputProps:getInputProps,getIncrementButtonProps:getIncrementButtonProps,getDecrementButtonProps:getDecrementButtonProps,getRootProps:getRootProps,required:C,value:T?U:R,isIncrementDisabled:O,isDecrementDisabled:q,inputValue:U}}"use client";export{useNumberInput as unstable_useNumberInput};

