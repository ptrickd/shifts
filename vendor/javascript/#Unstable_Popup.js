import e from"@babel/runtime/helpers/esm/extends";import t from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as o from"react";import n from"prop-types";import{offset as r,flip as s,autoUpdate as i,useFloating as l}from"@floating-ui/react-dom";import{unstable_useForkRef as a,unstable_useEnhancedEffect as p,HTMLElementType as f}from"@mui/utils";import{unstable_composeClasses as u}from"@mui/base/composeClasses";import{Portal as c}from"@mui/base/Portal";import{useSlotProps as m}from"@mui/base/utils";import{useClassNamesOverride as d}from"../utils/ClassNameConfigurator.js";import{generateUtilityClass as b}from"@mui/base/generateUtilityClass";import{generateUtilityClasses as y}from"@mui/base/generateUtilityClasses";import{jsx as h}from"react/jsx-runtime";function getPopupUtilityClass(e){return b("MuiPopup",e)}const g=y("MuiPopup",["root","open"]);"use client";const P=["anchor","children","container","disablePortal","keepMounted","middleware","offset","open","placement","slotProps","slots","strategy","withTransition"];function useUtilityClasses(e){const{open:t}=e;const o={root:["root",t&&"open"]};return u(o,d(getPopupUtilityClass))}function resolveAnchor(e){return typeof e==="function"?e():e}const T=o.forwardRef((function Popup(n,f){var u;const{anchor:d,children:b,container:y,disablePortal:g=false,keepMounted:T=false,middleware:w,offset:O=0,open:x=false,placement:C="bottom",slotProps:v={},slots:U={},strategy:M="absolute",withTransition:j=false}=n,A=t(n,P);const{refs:E,elements:k,floatingStyles:N,update:S,placement:q}=l({elements:{reference:resolveAnchor(d)},open:x,middleware:w!=null?w:[r(O!=null?O:0),s()],placement:C,strategy:M,whileElementsMounted:T?void 0:i});const R=a(E.setFloating,f);const[F,_]=o.useState(true);const handleEntering=()=>{_(false)};const handleExited=()=>{_(true)};p((()=>{if(T&&x&&k.reference&&k.floating){const e=i(k.reference,k.floating,S);return e}}),[T,x,k,S]);const D=e({},n,{disablePortal:g,keepMounted:T,offset:r,open:x,placement:C,finalPlacement:q,strategy:M,withTransition:j});const L=x||!T||j&&!F?void 0:"none";const V=useUtilityClasses(D);const W=(u=U==null?void 0:U.root)!=null?u:"div";const z=m({elementType:W,externalSlotProps:v.root,externalForwardedProps:A,ownerState:D,className:V.root,additionalProps:{ref:R,role:"tooltip",style:e({},N,{display:L})}});const B=x||T||j&&!F;if(!B)return null;const G={placement:q,requestOpen:x,onExited:handleExited,onEnter:handleEntering};return h(c,{disablePortal:g,container:y,children:h(W,e({},z,{children:typeof b==="function"?b(G):b}))})}));process.env.NODE_ENV!=="production"?T.propTypes={anchor:n/* @typescript-to-proptypes-ignore */.oneOfType([f,n.object,n.func]),children:n/* @typescript-to-proptypes-ignore */.oneOfType([n.node,n.func]),container:n/* @typescript-to-proptypes-ignore */.oneOfType([f,n.func]),disablePortal:n.bool,keepMounted:n.bool,middleware:n.arrayOf(n.oneOfType([n.oneOf([false]),n.shape({fn:n.func.isRequired,name:n.string.isRequired,options:n.any})])),offset:n.oneOfType([n.func,n.number,n.shape({alignmentAxis:n.number,crossAxis:n.number,mainAxis:n.number})]),open:n.bool,placement:n.oneOf(["bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),slotProps:n.shape({root:n.oneOfType([n.func,n.object])}),slots:n.shape({root:n.elementType}),strategy:n.oneOf(["absolute","fixed"]),withTransition:n.bool}:void 0;"use client";export{T as Unstable_Popup,getPopupUtilityClass,g as popupClasses};

