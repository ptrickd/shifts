import e from"@babel/runtime/helpers/esm/extends";import o from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as r from"react";import t from"prop-types";import s from"@mui/utils/useControlled";import{generateUtilityClass as l}from"@mui/base/generateUtilityClass";import{generateUtilityClasses as n}from"@mui/base/generateUtilityClasses";import{useSlotProps as i}from"@mui/base/utils";import{unstable_composeClasses as a}from"@mui/base/composeClasses";import{useClassNamesOverride as u}from"../utils/ClassNameConfigurator.js";import{jsx as d}from"react/jsx-runtime";const c=r.createContext(void 0);process.env.NODE_ENV!=="production"&&(c.displayName="FormControlContext");function getFormControlUtilityClass(e){return l("MuiFormControl",e)}const m=n("MuiFormControl",["root","disabled","error","filled","focused","required"]);"use client";const f=["defaultValue","children","disabled","error","onChange","required","slotProps","slots","value"];function hasValue(e){return e!=null&&!(Array.isArray(e)&&e.length===0)&&e!==""}function useUtilityClasses(e){const{disabled:o,error:r,filled:t,focused:s,required:l}=e;const n={root:["root",o&&"disabled",s&&"focused",r&&"error",t&&"filled",l&&"required"]};return a(n,u(getFormControlUtilityClass))}const p=r.forwardRef((function FormControl(t,l){var n;const{defaultValue:a,children:u,disabled:m=false,error:p=false,onChange:C,required:b=false,slotProps:y={},slots:h={},value:v}=t,g=o(t,f);const[F,x]=s({controlled:v,default:a,name:"FormControl",state:"value"});const q=hasValue(F);const[N,P]=r.useState(false);const U=N&&!m;r.useEffect((()=>P((e=>!m&&e))),[m]);const V=e({},t,{disabled:m,error:p,filled:q,focused:U,required:b});const E=r.useMemo((()=>({disabled:m,error:p,filled:q,focused:U,onBlur:()=>{P(false)},onChange:e=>{x(e.target.value);C==null||C(e)},onFocus:()=>{P(true)},required:b,value:F!=null?F:""})),[m,p,q,U,C,b,x,F]);const T=useUtilityClasses(V);const renderChildren=()=>typeof u==="function"?u(E):u;const j=(n=h.root)!=null?n:"div";const O=i({elementType:j,externalSlotProps:y.root,externalForwardedProps:g,additionalProps:{ref:l,children:renderChildren()},ownerState:V,className:T.root});return d(c.Provider,{value:E,children:d(j,e({},O))})}));process.env.NODE_ENV!=="production"?p.propTypes={children:t/* @typescript-to-proptypes-ignore */.oneOfType([t.node,t.func]),className:t.string,defaultValue:t.any,disabled:t.bool,error:t.bool,onChange:t.func,required:t.bool,slotProps:t.shape({root:t.oneOfType([t.func,t.object])}),slots:t.shape({root:t.elementType}),value:t.any}:void 0;"use client";function useFormControlContext(){return r.useContext(c)}export{p as FormControl,c as FormControlContext,m as formControlClasses,getFormControlUtilityClass,useFormControlContext};

