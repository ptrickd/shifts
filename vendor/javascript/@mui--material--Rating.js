import e from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import o from"@babel/runtime/helpers/esm/extends";import*as n from"react";import t from"prop-types";import i from"clsx";import{unstable_generateUtilityClasses as s,visuallyHidden as l,chainPropTypes as r}from"@mui/utils";import{unstable_composeClasses as a}from"@mui/base/composeClasses";import c from"../styles/useTheme.js";import{capitalize as u,unstable_useId as m,useControlled as d,useIsFocusVisible as p,useForkRef as y}from"@mui/material/utils";import v from"../utils/createSvgIcon.js";import{jsx as f,jsxs as g}from"react/jsx-runtime";import h from"../styles/useThemeProps.js";import b,{slotShouldForwardProp as R}from"../styles/styled.js";import C from"@mui/material/generateUtilityClass";import"@mui/system";import"../styles/defaultTheme.js";import"../styles/createTheme.js";import"../styles/createMixins.js";import"../styles/createPalette.js";import"../colors/common.js";import"../colors/grey.js";import"../colors/purple.js";import"../colors/red.js";import"../colors/orange.js";import"../colors/blue.js";import"../colors/lightBlue.js";import"../colors/green.js";import"../styles/createTypography.js";import"../styles/shadows.js";import"../styles/createTransitions.js";import"../styles/zIndex.js";import"../_/f7-_1gIZ.js";import"@mui/material/SvgIcon";"use client";var V=v(f("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");"use client";var T=v(f("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function getRatingUtilityClass(e){return C("MuiRating",e)}const S=s("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);"use client";const x=["value"],F=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function clamp(e,o,n){return e<o?o:e>n?n:e}function getDecimalPrecision(e){const o=e.toString().split(".")[1];return o?o.length:0}function roundValueToPrecision(e,o){if(e==null)return e;const n=Math.round(e/o)*o;return Number(n.toFixed(getDecimalPrecision(o)))}const useUtilityClasses=e=>{const{classes:o,size:n,readOnly:t,disabled:i,emptyValueFocused:s,focusVisible:l}=e;const r={root:["root",`size${u(n)}`,i&&"disabled",l&&"focusVisible",t&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return a(r,getRatingUtilityClass,o)};const A=b("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[{[`& .${S.visuallyHidden}`]:o.visuallyHidden},o.root,o[`size${u(n.size)}`],n.readOnly&&o.readOnly]}})((({theme:e,ownerState:n})=>o({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${S.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${S.focusVisible} .${S.iconActive}`]:{outline:"1px solid #999"},[`& .${S.visuallyHidden}`]:l},n.size==="small"&&{fontSize:e.typography.pxToRem(18)},n.size==="large"&&{fontSize:e.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})));const j=b("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},o)=>[o.label,e.emptyValueFocused&&o.labelEmptyValueActive]})((({ownerState:e})=>o({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})));const L=b("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.icon,n.iconEmpty&&o.iconEmpty,n.iconFilled&&o.iconFilled,n.iconHover&&o.iconHover,n.iconFocus&&o.iconFocus,n.iconActive&&o.iconActive]}})((({theme:e,ownerState:n})=>o({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(e.vars||e).palette.action.disabled})));const O=b("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>R(e)&&e!=="iconActive",overridesResolver:(e,o)=>{const{iconActive:n}=e;return[o.decimal,n&&o.iconActive]}})((({iconActive:e})=>o({position:"relative"},e&&{transform:"scale(1.2)"})));function IconContainer(n){const t=e(n,x);return f("span",o({},t))}process.env.NODE_ENV!=="production"?IconContainer.propTypes={value:t.number.isRequired}:void 0;function RatingItem(e){const{classes:t,disabled:s,emptyIcon:l,focus:r,getLabelText:a,highlightSelectedOnly:c,hover:u,icon:d,IconContainerComponent:p,isActive:y,itemValue:v,labelProps:h,name:b,onBlur:R,onChange:C,onClick:V,onFocus:T,readOnly:S,ownerState:x,ratingValue:F,ratingValueRounded:A}=e;const O=c?v===F:v<=F;const M=v<=u;const I=v<=r;const w=v===A;const E=m();const z=f(L,{as:p,value:v,className:i(t.icon,O?t.iconFilled:t.iconEmpty,M&&t.iconHover,I&&t.iconFocus,y&&t.iconActive),ownerState:o({},x,{iconEmpty:!O,iconFilled:O,iconHover:M,iconFocus:I,iconActive:y}),children:l&&!O?l:d});return S?f("span",o({},h,{children:z})):g(n.Fragment,{children:[g(j,o({ownerState:o({},x,{emptyValueFocused:void 0}),htmlFor:E},h,{children:[z,f("span",{className:t.visuallyHidden,children:a(v)})]})),f("input",{className:t.visuallyHidden,onFocus:T,onBlur:R,onChange:C,onClick:V,disabled:s,value:v,id:E,type:"radio",name:b,checked:w})]})}process.env.NODE_ENV!=="production"?RatingItem.propTypes={classes:t.object.isRequired,disabled:t.bool.isRequired,emptyIcon:t.node,focus:t.number.isRequired,getLabelText:t.func.isRequired,highlightSelectedOnly:t.bool.isRequired,hover:t.number.isRequired,icon:t.node,IconContainerComponent:t.elementType.isRequired,isActive:t.bool.isRequired,itemValue:t.number.isRequired,labelProps:t.object,name:t.string,onBlur:t.func.isRequired,onChange:t.func.isRequired,onClick:t.func.isRequired,onFocus:t.func.isRequired,ownerState:t.object.isRequired,ratingValue:t.number,ratingValueRounded:t.number,readOnly:t.bool.isRequired}:void 0;const M=f(V,{fontSize:"inherit"});const I=f(T,{fontSize:"inherit"});function defaultLabelText(e){return`${e} Star${e!==1?"s":""}`}const w=n.forwardRef((function Rating(t,s){const l=h({name:"MuiRating",props:t});const{className:r,defaultValue:a=null,disabled:u=false,emptyIcon:v=I,emptyLabelText:b="Empty",getLabelText:R=defaultLabelText,highlightSelectedOnly:C=false,icon:V=M,IconContainerComponent:T=IconContainer,max:S=5,name:x,onChange:L,onChangeActive:w,onMouseLeave:E,onMouseMove:z,precision:H=1,readOnly:N=false,size:q="medium",value:P}=l,B=e(l,F);const $=m(x);const[k,D]=d({controlled:P,default:a,name:"Rating"});const U=roundValueToPrecision(k,H);const _=c();const[{hover:X,focus:W},Y]=n.useState({hover:-1,focus:-1});let G=U;X!==-1&&(G=X);W!==-1&&(G=W);const{isFocusVisibleRef:J,onBlur:K,onFocus:Q,ref:Z}=p();const[ee,oe]=n.useState(false);const ne=n.useRef();const te=y(Z,ne,s);const handleMouseMove=e=>{z&&z(e);const o=ne.current;const{right:n,left:t}=o.getBoundingClientRect();const{width:i}=o.firstChild.getBoundingClientRect();let s;s=_.direction==="rtl"?(n-e.clientX)/(i*S):(e.clientX-t)/(i*S);let l=roundValueToPrecision(S*s+H/2,H);l=clamp(l,H,S);Y((e=>e.hover===l&&e.focus===l?e:{hover:l,focus:l}));oe(false);w&&X!==l&&w(e,l)};const handleMouseLeave=e=>{E&&E(e);const o=-1;Y({hover:o,focus:o});w&&X!==o&&w(e,o)};const handleChange=e=>{let o=e.target.value===""?null:parseFloat(e.target.value);X!==-1&&(o=X);D(o);L&&L(e,o)};const handleClear=e=>{if(e.clientX!==0||e.clientY!==0){Y({hover:-1,focus:-1});D(null);L&&parseFloat(e.target.value)===U&&L(e,null)}};const handleFocus=e=>{Q(e);J.current===true&&oe(true);const o=parseFloat(e.target.value);Y((e=>({hover:e.hover,focus:o})))};const handleBlur=e=>{if(X!==-1)return;K(e);J.current===false&&oe(false);const o=-1;Y((e=>({hover:e.hover,focus:o})))};const[ie,se]=n.useState(false);const le=o({},l,{defaultValue:a,disabled:u,emptyIcon:v,emptyLabelText:b,emptyValueFocused:ie,focusVisible:ee,getLabelText:R,icon:V,IconContainerComponent:T,max:S,precision:H,readOnly:N,size:q});const re=useUtilityClasses(le);return g(A,o({ref:te,onMouseMove:handleMouseMove,onMouseLeave:handleMouseLeave,className:i(re.root,r,N&&"MuiRating-readOnly"),ownerState:le,role:N?"img":null,"aria-label":N?R(G):null},B,{children:[Array.from(new Array(S)).map(((e,n)=>{const t=n+1;const s={classes:re,disabled:u,emptyIcon:v,focus:W,getLabelText:R,highlightSelectedOnly:C,hover:X,icon:V,IconContainerComponent:T,name:$,onBlur:handleBlur,onChange:handleChange,onClick:handleClear,onFocus:handleFocus,ratingValue:G,ratingValueRounded:U,readOnly:N,ownerState:le};const l=t===Math.ceil(G)&&(X!==-1||W!==-1);if(H<1){const e=Array.from(new Array(1/H));return f(O,{className:i(re.decimal,l&&re.iconActive),ownerState:le,iconActive:l,children:e.map(((n,i)=>{const l=roundValueToPrecision(t-1+(i+1)*H,H);return f(RatingItem,o({},s,{isActive:false,itemValue:l,labelProps:{style:e.length-1===i?{}:{width:l===G?(i+1)*H*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),l)}))},t)}return f(RatingItem,o({},s,{isActive:l,itemValue:t}),t)})),!N&&!u&&g(j,{className:i(re.label,re.labelEmptyValue),ownerState:le,children:[f("input",{className:re.visuallyHidden,value:"",id:`${$}-empty`,type:"radio",name:$,checked:U==null,onFocus:()=>se(true),onBlur:()=>se(false),onChange:handleChange}),f("span",{className:re.visuallyHidden,children:b})]})]}))}));process.env.NODE_ENV!=="production"?w.propTypes={classes:t.object,className:t.string,defaultValue:t.number,disabled:t.bool,emptyIcon:t.node,emptyLabelText:t.node,
/**
   * Accepts a function which returns a string value that provides a user-friendly name for the current value of the rating.
   * This is important for screen reader users.
   *
   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).
   * @param {number} value The rating label's value to format.
   * @returns {string}
   * @default function defaultLabelText(value) {
   *   return `${value} Star${value !== 1 ? 's' : ''}`;
   * }
   */
getLabelText:t.func,highlightSelectedOnly:t.bool,icon:t.node,IconContainerComponent:t.elementType,max:t.number,name:t.string,
/**
   * Callback fired when the value changes.
   * @param {React.SyntheticEvent} event The event source of the callback.
   * @param {number|null} value The new value.
   */
onChange:t.func,
/**
   * Callback function that is fired when the hover state changes.
   * @param {React.SyntheticEvent} event The event source of the callback.
   * @param {number} value The new value.
   */
onChangeActive:t.func,onMouseLeave:t.func,onMouseMove:t.func,precision:r(t.number,(e=>e.precision<.1?new Error(["MUI: The prop `precision` should be above 0.1.","A value below this limit has an imperceptible impact."].join("\n")):null)),readOnly:t.bool,size:t/* @typescript-to-proptypes-ignore */.oneOfType([t.oneOf(["small","medium","large"]),t.string]),sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object]),value:t.number}:void 0;"use client";export{w as default,getRatingUtilityClass,S as ratingClasses};

